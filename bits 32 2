bits 32
global proceso
extern  printf

section .text              ; start of the "CODE segment"

proceso: 
       push ebp           
       mov ebp, esp        ; set up the EBP
       push ecx            ; save used registers
       push esi

       mov ecx, [ebp+12]   ; array length
       mov esi, [ebp+8]    ; array address
       xor eax, eax        ; clear the sum value      
       mov ebx, [ebp+8]    ; second element address 
       mov esi, [ebp+8]    ; fist element address  
       ;call lp

lp:    add eax, [esi]      ; fetch first array element
       add edx, [ebx]      ; fetch second array element
       cmp eax, edx        ; compare two elements
       jg swap             ; swap elements
       add edx, 4          ; move to another element
       loop lp             ; loop over all elements


       ;mov ebx, [ebp+8]
       ;call lpE
       pop esi             ; restore used registers
       pop ecx
       pop ebp
       ret                 ; return to caller

lpE:   add esi, 4
       call lp
       loop lpE

swap:  
    mov eax, [esi]
    mov [esi], edx
    mov [ebx], eax
    call printf
    

       